---
layout: post
title: Customizing the Microsoft Deployment Server!
categories: Windows Server
tags: server mdt part2
---

# Customizing the Microsoft Deployment Server!

## Introduction

In this guide, we will walk you through the process of customizing the Microsoft Deployment Server. Make sure you have finished [Setting up a Microsoft Deployment Server!]({% link _posts/2023-10-20-MDTPart1.md %})

## Prerequisites


The complete customsettings.ini should now look like:

```
Priority=Serialnumber,DefaultGateway,MacAddress,TaskSequenceID,Model,ByLaptopType,ByDesktopType
Properties=MyCustomProperty

[ByLaptopType]
Subsection=Laptop-%IsLaptop%

[ByDesktopType]
Subsection=Desktop-%IsDesktop%

[Laptop-True]
DriverGroup001=LAPTOP\%Model%
DriverSelectionProfile=nothing

[Desktop-True]
DriverGroup001=DESKTOP\%Model%
DriverSelectionProfile=nothing

[Virtual Machine]
DriverSelectionProfile=nothing

[Default]
OSInstall=Y
SkipCapture=YES
SkipAdminPassword=NO
SkipProductKey=YES
```


We can customize the Default section even further to get less questions and automate the process:

This is what i use for my Default section, feel free to adjust what is needed:

```
[Default]
SkipBitLocker=YES
OSInstall=Y
SkipAdminPassword=YES
AdminPassword=SuperSecretpassword!!!
SkipProductKey=YES
SkipComputerBackup=YES
SkipComputerName=NO
SkipDomainMembership=YES
SkipUserData=YES
SkipCapture=YES
DoCapture=NO
BitsPerPel=32
VRefresh=60
XResolution=1
YResolution=1
SkipLocaleSelection=NO
KeyboardLocale=nl-BE
KeyboardLocalePE=nl-BE
UserLocale=nl-BE
SkipTaskSequence=NO
SkipTimeZone=YES
SkipApplications=NO
SkipRoles=YES
SkipSummary=YES
SkipBDDWelcome=YES
TimeZone=105
TimeZoneName=Romance Standard Time
_SMSTSOrgName=Mylemans Cloud Based IT
_SMSTSPackageName=%TaskSequenceName% on %OSDComputerName% (%Model%)
FinishAction=REBOOT
SkipFinalSummary=YES
SLSHARE=\\lab-wds01\LOGS
SLSHAREDynamicLogging=\\lab-wds01\LOGS\%OSDComputerName%
EventService=http://lab-wds01:9800
```

Change this section to SkipAdminPassword=NO and remove AdminPassword= if you don't want your local admin password to be in clear text:

```
SkipAdminPassword=NO
```

Change this section to customize to your own branding:

```
_SMSTSOrgName=Mylemans Cloud Based IT
_SMSTSPackageName=%TaskSequenceName% on %OSDComputerName% (%Model%)
```

I choose not to skip the computername, but you can change this, you can also add this to the Laptop-True, Dekstop-True and/or Virtual Machine sections to get a custom computername based on a the type of machine; For example you can choose the prefix VM/DT/LT + the 5 characters of the serialnumber for automation. This is an example for the Virtual Machine section:

```
[Virtual Machine]
DriverSelectionProfile=nothing
SkipComputerName=YES
OSDComputername=VM-#Right("%SerialNumber%",5)#
```

You can also add Mandatory Applications.
For example if you want to have a specific VPN software on all laptops but not on you Desktops, then you can add the following to your Laptops-True section.
You can find the Application GUID under the application properties, right click on the application. For your laptops it should look like this:

```
[Laptop-True]
DriverGroup001=LAPTOP\%Model%
DriverSelectionProfile=nothing
MandatoryApplications001={ApplicationGUID}
```


As a finalisation you can choose to REBOOT or SHUTDOWN your deployed machines, change this to REBOOT or SHUTDOWN:

```
FinishAction=REBOOT
```